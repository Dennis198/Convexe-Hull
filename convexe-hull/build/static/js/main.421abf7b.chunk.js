(this["webpackJsonpconvexe-hull"]=this["webpackJsonpconvexe-hull"]||[]).push([[0],{24:function(t,n,e){},25:function(t,n,e){},26:function(t,n,e){},31:function(t,n,e){"use strict";e.r(n);var i=e(1),s=e(0),h=e.n(s),a=e(6),l=e.n(a),r=(e(24),e(25),e(2)),o=e(3),u=e(17),c=e(16);e(26);function d(){var t=document.getElementById("2d-plane"),n=t.getContext("2d");n.beginPath(),n.fillStyle="#ADD8E6",n.fillRect(0,0,t.width,t.height),n.stroke()}function p(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black",s=document.getElementById("2d-plane"),h=s.getContext("2d");h.fillStyle=i,h.beginPath(),h.arc(t,n,e,0,2*Math.PI),h.fill()}function f(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"black",i=document.getElementById("2d-plane"),s=i.getContext("2d");s.strokeStyle=e,s.lineWidth=1,s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(n.x,n.y),s.stroke()}function v(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.getElementById("2d-plane"),s=i.getContext("2d");s.strokeStyle=n,s.lineWidth=1,s.beginPath(),s.moveTo(t[0].x,t[0].y);for(var h=1;h<t.length;h++)s.lineTo(t[h].x,t[h].y),s.stroke();e&&s.lineTo(t[0].x,t[0].y),s.stroke()}var g=function(){function t(n,e){Object(r.a)(this,t),this.x=n,this.y=e}return Object(o.a)(t,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";p(this.x,this.y,t,n)}}]),t}();function x(t,n){return t.x*n.y-t.y*n.x}function y(t,n){return{x:t.x-n.x,y:t.y-n.y}}function k(t,n,e){return t.x*n.y*1+1*t.y*e.x+1*n.x*e.y-e.x*n.y*1-1*e.y*t.x-1*n.x*t.y<0}function m(t,n){return n.sort((function(n,e){return function(t,n,e){var i={x:t.x-1,y:t.y},s=w(t,i,n),h=w(t,i,e);0===s&&console.log("Hier");if(s<h)return-1;if(s>h)return 1;var a=I(t,n),l=I(t,e);if(a<l)return 1;if(a>l)return-1;return 0}(t,n,e)}))}function w(t,n,e){var i={x:n.x-t.x,y:n.y-t.y},s={x:e.x-t.x,y:e.y-t.y};if(0===i.x&&0===i.y)return 0;if(0===s.x&&0===s.y)return 0;if(0===b(i,s))return 90;var h=180*Math.acos(b(i,s)/(j(i)*j(s)))/Math.PI;return 180<=h&&h<=180?180:h}function b(t,n){return t.x*n.x+t.y*n.y}function j(t){return I({x:0,y:0},t)}function I(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}var C=function(){function t(n){Object(r.a)(this,t),this.points=n.sort((function(t,n){return t.x-n.x})),this.sucess=!1,this.hull=[],this.leftMost=this.points[0],this.index=2,this.nextIndex=-1,this.nextVertex=this.points[1],this.currentVertex=this.leftMost,this.hull.push(this.leftMost)}return Object(o.a)(t,[{key:"instantCompute",value:function(){if(this.points.length<3)this.drawFinishIfLessThan3Points();else{for(this.sucess=!1;!this.sucess;)this.calculateNextStep();this.drawFinish()}}},{key:"start",value:function(){var t=this;if(this.points.length<3)this.drawFinishIfLessThan3Points();else var n=setInterval((function(){t.drawCurrentState(),t.calculateNextStep(n)}),100)}},{key:"calculateNextStep",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.points[this.index],e=y(this.nextVertex,this.currentVertex),i=y(n,this.currentVertex);x(e,i)<0&&(this.nextVertex=n,this.nextIndex=this.index),this.index++,this.index===this.points.length&&(this.nextVertex===this.leftMost?(this.drawFinish(),this.stop(t)):(this.hull.push(this.nextVertex),this.currentVertex=this.nextVertex,this.index=0,this.nextVertex=this.leftMost))}},{key:"drawCurrentState",value:function(){d(),v(this.hull,"red"),f(this.currentVertex,this.nextVertex,"green"),f(this.currentVertex,this.points[this.index]);for(var t=0;t<this.points.length;t++)this.points[t].draw();for(var n=0;n<this.hull.length;n++)this.hull[n].draw(5,"red")}},{key:"drawFinish",value:function(){d(),v(this.hull,"red",!0);for(var t=0;t<this.points.length;t++)this.points[t].draw();for(var n=0;n<this.hull.length;n++)this.hull[n].draw(5,"red")}},{key:"drawFinishIfLessThan3Points",value:function(){this.hull=this.points,this.drawFinish(),this.stop()}},{key:"stop",value:function(t){clearInterval(t),this.sucess=!0}}]),t}(),O=function(){function t(n){Object(r.a)(this,t),this.points=n,this.success=!1,this.hull=[],this.hullLines=[],this.checked=[{startIdx:-1,endIdx:-1}]}return Object(o.a)(t,[{key:"instantCompute",value:function(){var t=this;if(this.points.length<3)this.drawFinishIfLessThan3Points();else{for(var n=function(n){for(var e=function(e){if(n===e)return"continue";if(t.checked.find((function(t){return t.startIdx===e&&t.endIdx===n})))return"continue";for(var i=!0,s=0;s<t.points.length;s++)if(n!==s&&e!==s&&k(t.points[n],t.points[e],t.points[s])){i=!1;break}!0===i&&(t.checked.push({startIdx:n,endIdx:e}),t.hull.push(t.points[n]),t.hullLines.push({start:t.points[n],end:t.points[e]}))},i=0;i<t.points.length;i++)e(i)},e=0;e<this.points.length;e++){n(e)}this.drawFinish(),this.stop()}}},{key:"start",value:function(){var t=this;if(this.points.length<3)this.drawFinishIfLessThan3Points();else{var n,e=0,i=0,s=0,h=!1,a=!1,l=this.points.length,r=setInterval((function(){(d(),e===i)?i++:t.checked.find((function(t){return t.startIdx===i&&t.endIdx===e}))?a||i++:(a||(n=!0),h=!0,a=!0,f(t.points[e],t.points[i]),e!==s&&i!==s?(f(t.points[e],t.points[s],"green"),k(t.points[e],t.points[i],t.points[s])&&(n=!1),s++):s++,s===l&&(a=!1,s=0),!0===n&&0===s?(t.checked.push({startIdx:e,endIdx:i}),t.hull.push(t.points[e]),t.hullLines.push({start:t.points[e],end:t.points[i]}),a||i++):a||i++);i===l&&(h=!1,i=0),h||0!==i||(e++,i=0),e===l&&t.stop(r);for(var o=0;o<t.hullLines.length;o++)f(t.hullLines[o].start,t.hullLines[o].end,"red");for(var u=0;u<t.points.length;u++)t.points[u].draw();for(var c=0;c<t.hull.length;c++)t.hull[c].draw(5,"red")}),100);this.drawFinish()}}},{key:"drawFinish",value:function(){for(var t=0;t<this.hullLines.length;t++)f(this.hullLines[t].start,this.hullLines[t].end,"red");for(var n=0;n<this.points.length;n++)this.points[n].draw();for(var e=0;e<this.hull.length;e++)this.hull[e].draw(5,"red")}},{key:"drawFinishIfLessThan3Points",value:function(){this.hull=this.points,2===this.points.length&&this.hullLines.push({start:this.points[0],end:this.points[1]}),this.drawFinish(),this.stop()}},{key:"stop",value:function(t){clearInterval(t),this.sucess=!0}}]),t}(),F=function(){function t(n){Object(r.a)(this,t),this.points=n.sort((function(t,n){return t.y-n.y})),this.success=!1,this.hull=[],this.hull.push(this.points[0])}return Object(o.a)(t,[{key:"instantCompute",value:function(){if(this.points.length<3)this.drawFinishIfLessThan3Points();else{this.points=m(this.points[0],this.points),this.hull.push(this.points[1]);for(var t=2,n=this.points.length;t<n;){k(this.hull[this.hull.length-1],this.hull[this.hull.length-2],this.points[t])&&2!=this.hull.length?this.hull.pop():(this.hull.push(this.points[t]),t++)}this.drawCurrentState(!0)}}},{key:"start",value:function(){var t=this;if(this.points.length<3)this.drawFinishIfLessThan3Points();else{this.points=m(this.points[0],this.points),this.hull.push(this.points[1]);var n=2,e=this.points.length,i=setInterval((function(){var s=t.hull[t.hull.length-1],h=t.hull[t.hull.length-2];t.drawCurrentState(),k(s,h,t.points[n])&&2!=t.hull.length?t.hull.pop():(t.hull.push(t.points[n]),n++),n>=e&&(t.stop(i),t.drawCurrentState(!0))}),300)}}},{key:"drawCurrentState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(),v(this.hull,"red",!!t);for(var n=0;n<this.points.length;n++)this.points[n].draw();for(var e=0;e<this.hull.length;e++)this.hull[e].draw(5,"red")}},{key:"drawFinishIfLessThan3Points",value:function(){this.hull=this.points,this.drawCurrentState(!0),this.stop()}},{key:"stop",value:function(t){clearInterval(t),this.sucess=!0}}]),t}(),S=function(){function t(){Object(r.a)(this,t),this.points=[],this.algorithm=null,this.success=!1}return Object(o.a)(t,[{key:"addPoint",value:function(t,n){this.points.push(new g(t,n)),this.draw()}},{key:"naive",value:function(t){0!=this.points.length&&(this.algorithm=new O(this.points),t?this.algorithm.instantCompute():this.algorithm.start())}},{key:"giftWrapping",value:function(t){0!==this.points.length&&(this.algorithm=new C(this.points),t?this.algorithm.instantCompute():this.algorithm.start())}},{key:"grahamScan",value:function(t){0!==this.points.length&&(this.algorithm=new F(this.points),t?this.algorithm.instantCompute():this.algorithm.start())}},{key:"isAlgorithmFinished",value:function(){return null==this.algorithm?null:this.algorithm.sucess}},{key:"reset",value:function(){d()}},{key:"draw",value:function(){this.reset();for(var t=0;t<this.points.length;t++)this.points[t].draw()}}]),t}(),P=e(45),M=function(t){Object(u.a)(e,t);var n=Object(c.a)(e);function e(t){var i;return Object(r.a)(this,e),(i=n.call(this,t)).intervallID=0,i.state={plane:new S,isRunning:!1,isFinished:!1,algoMode:-1},i}return Object(o.a)(e,[{key:"componentDidMount",value:function(){this.state.plane.reset()}},{key:"fastCompute",value:function(){switch(this.setState({isFinished:!0}),this.state.algoMode){case 0:this.state.plane.naive(!0);break;case 1:this.state.plane.giftWrapping(!0);break;case 2:this.state.plane.grahamScan(!0);break;default:return void this.setState({isRunning:!1})}}},{key:"animation",value:function(){var t=this;switch(this.setState({isRunning:!0}),this.state.algoMode){case 0:this.state.plane.naive(!1),this.intervallID=setInterval((function(){t.state.plane.isAlgorithmFinished()&&t.stop(t.intervallID)}),50);break;case 1:this.state.plane.giftWrapping(!1),this.intervallID=setInterval((function(){t.state.plane.isAlgorithmFinished()&&t.stop(t.intervallID)}),50);break;case 2:this.state.plane.grahamScan(!1),this.intervallID=setInterval((function(){t.state.plane.isAlgorithmFinished()&&t.stop(t.intervallID)}),50);break;default:return void this.setState({isRunning:!1})}}},{key:"resetHull",value:function(){this.state.plane.draw(),this.setState({isFinished:!1})}},{key:"reset",value:function(){var t=this;this.setState({isRunning:!1,isFinished:!1,plane:new S}),setTimeout((function(){t.state.plane.draw()}),10)}},{key:"stop",value:function(t){clearInterval(t),this.setState({isRunning:!1,isFinished:!0})}},{key:"stopAll",value:function(){for(var t=window.setInterval("",9999),n=1;n<t;n++)window.clearInterval(n);this.setState({isRunning:!1}),this.state.isFinished||this.state.plane.draw()}},{key:"addRandomPoints",value:function(){for(var t=0;t<5;t++){var n=800*Math.random(),e=400*Math.random();this.state.plane.addPoint(n,e)}}},{key:"addPoint",value:function(t){var n=document.getElementById("2d-plane"),e=this.getMousePos(n,t);if(this.state.plane.addPoint(e.x,e.y),this.state.isFinished)switch(this.state.algoMode){case 0:this.state.plane.naive(!0);break;case 1:this.state.plane.giftWrapping(!0);break;case 2:this.state.plane.grahamScan(!0)}}},{key:"getMousePos",value:function(t,n){var e=t.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}},{key:"switchAlgoMode",value:function(t){this.setState({algoMode:parseInt(t.target.value)}),this.resetHull()}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{className:"convexehull",children:[Object(i.jsx)("h1",{children:"Convexe Hull"}),Object(i.jsxs)("select",{className:"select-css",onChange:function(n,e){return t.switchAlgoMode(n,e)},children:[Object(i.jsx)("option",{value:"-1",children:"Select Algorithm"}),Object(i.jsx)("option",{value:0,children:"Naive"}),Object(i.jsx)("option",{value:1,children:"Gift Wrapping"}),Object(i.jsx)("option",{value:2,children:"Graham Scan"})]}),Object(i.jsx)(P.a,{disabled:this.state.isRunning,variant:"outlined",color:"primary",onClick:function(){return t.fastCompute()},children:"Fast Compute"}),Object(i.jsx)(P.a,{disabled:this.state.isRunning,variant:"outlined",color:"primary",onClick:function(){return t.animation()},children:"Animation"}),Object(i.jsx)(P.a,{disabled:!this.state.isRunning,variant:"outlined",color:"secondary",onClick:function(){return t.stopAll()},children:"Stop"}),Object(i.jsx)(P.a,{disabled:this.state.isRunning,variant:"outlined",onClick:function(){return t.addRandomPoints()},children:"Random Points"}),Object(i.jsx)(P.a,{disabled:this.state.isRunning,variant:"outlined",onClick:function(){return t.resetHull()},children:"Reset Hull"}),Object(i.jsx)(P.a,{disabled:this.state.isRunning,variant:"outlined",onClick:function(){return t.reset()},children:"Reset"}),Object(i.jsx)("h4",{children:this.state.isRunning?"Compute...":"Ready"}),Object(i.jsx)("div",{className:"convexehull__canvas",children:Object(i.jsx)("canvas",{className:"convexehull_canvas__2dplane",id:"2d-plane",width:800,height:400,onClick:this.state.isRunning?function(){return null}:function(n){return t.addPoint(n)}})})]})}}]),e}(h.a.Component);var R=function(){return Object(i.jsx)("div",{className:"app",children:Object(i.jsx)(M,{})})},L=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,46)).then((function(n){var e=n.getCLS,i=n.getFID,s=n.getFCP,h=n.getLCP,a=n.getTTFB;e(t),i(t),s(t),h(t),a(t)}))};l.a.render(Object(i.jsx)(h.a.StrictMode,{children:Object(i.jsx)(R,{})}),document.getElementById("root")),L()}},[[31,1,2]]]);
//# sourceMappingURL=main.421abf7b.chunk.js.map